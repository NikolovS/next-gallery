(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[190],{8086:function(a,b,c){(window.__NEXT_P=window.__NEXT_P||[]).push(["/cart",function(){return c(7521)}])},7521:function(i,b,a){"use strict";a.r(b);var j=a(7568),k=a(6042),l=a(9396),m=a(9815),c=a(4051),n=a.n(c),o=a(5893),p=a(7294),d=a(5152),e=a.n(d),q=a(5789),r=a(8766),f=a(1664),s=a.n(f),g=a(5675),t=a.n(g),u=a(2318),v=a(9659),w=a(1749),x=a(6847),y=a(2302),z=a(3750),A=a(7394),B=a(8222),C=a(9613),D=a(1646),E=a(5639),F=a(282),G=a(8463),H=a(2822),I=a(998),h=a(9669),J=a.n(h),K=a(1163);function L(){var c,e=(0,K.useRouter)(),b=(0,p.useContext)(r.y),d=b.state,f=b.dispatch,a=d.cart.cartItems,g=(c=(0,j.Z)(n().mark(function a(b,c){var d;return n().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,J().get("/api/products/".concat(b._id));case 2:if(!((d=a.sent.data).countInStock<c)){a.next=6;break}return window.alert("Sorry, Product is out of stock."),a.abrupt("return");case 6:f({type:"CART_ADD_ITEM",payload:(0,l.Z)((0,k.Z)({},b),{quantity:c})});case 7:case"end":return a.stop()}},a)})),function(a,b){return c.apply(this,arguments)}),h=function(a){f({type:"CART_REMOVE_ITEM",payload:a})};return(0,o.jsxs)(q.Z,{title:"Shopping Cart",children:[(0,o.jsx)(u.Z,{component:"h1",variant:"h1",children:"Shopping Cart"}),0===a.length?(0,o.jsxs)("div",{children:["Cart is empty."," ",(0,o.jsx)(s(),{href:"/",passHref:!0,children:(0,o.jsx)(v.Z,{children:"Go shopping"})})]}):(0,o.jsxs)(w.Z,{container:!0,spacing:1,children:[(0,o.jsx)(w.Z,{item:!0,md:9,xs:12,children:(0,o.jsx)(x.Z,{children:(0,o.jsxs)(y.Z,{children:[(0,o.jsx)(z.Z,{children:(0,o.jsxs)(A.Z,{children:[(0,o.jsx)(B.Z,{children:"Image"}),(0,o.jsx)(B.Z,{children:"Name"}),(0,o.jsx)(B.Z,{align:"right",children:"Quantity"}),(0,o.jsx)(B.Z,{align:"right",children:"Price"}),(0,o.jsx)(B.Z,{align:"right",children:"Action"})]})}),(0,o.jsx)(C.Z,{children:a.map(function(a){return(0,o.jsxs)(A.Z,{children:[(0,o.jsx)(B.Z,{children:(0,o.jsx)(s(),{href:"/product/".concat(a.slug),passHref:!0,children:(0,o.jsx)(v.Z,{children:(0,o.jsx)(t(),{src:a.image,alt:a.name,width:50,height:50})})})}),(0,o.jsx)(B.Z,{children:(0,o.jsx)(s(),{href:"/product/".concat(a.slug),passHref:!0,children:(0,o.jsx)(v.Z,{children:(0,o.jsx)(u.Z,{children:a.name})})})}),(0,o.jsx)(B.Z,{align:"right",children:(0,o.jsx)(D.Z,{value:a.quantity,onChange:function(b){return g(a,b.target.value)},children:(0,m.Z)(Array(a.countInStock).keys()).map(function(a){return(0,o.jsx)(E.Z,{value:a+1,children:a+1},a+1)})})}),(0,o.jsxs)(B.Z,{align:"right",children:["$",a.price]}),(0,o.jsx)(B.Z,{align:"right",children:(0,o.jsx)(F.Z,{variant:"contained",color:"secondary",onClick:function(){return h(a)},children:"x"})})]},a._id)})})]})})}),(0,o.jsx)(w.Z,{md:3,xs:12,children:(0,o.jsx)(G.Z,{children:(0,o.jsxs)(H.Z,{children:[(0,o.jsx)(I.Z,{children:(0,o.jsxs)(u.Z,{variant:"h2",children:["Subtotal (",a.reduce(function(a,b){return a+b.quantity},0)," ","items) : $",a.reduce(function(b,a){return b+a.quantity*a.price},0)]})}),(0,o.jsx)(I.Z,{children:(0,o.jsx)(F.Z,{variant:"contained",color:"primary",fullWidth:!0,onClick:function(){e.push("/shipping")},children:"Check Out"})})]})})})]})]})}b.default=e()(function(){return Promise.resolve(L)},{ssr:!1})}},function(a){a.O(0,[961,48,170,924,349,675,789,774,888,179],function(){var b;return a(a.s=8086)}),_N_E=a.O()}])