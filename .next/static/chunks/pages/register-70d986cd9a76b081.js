(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[495],{5511:function(a,b,c){(window.__NEXT_P=window.__NEXT_P||[]).push(["/register",function(){return c(72)}])},72:function(f,b,a){"use strict";a.r(b),a.d(b,{default:function(){return B}});var g=a(7568),h=a(6042),c=a(4051),i=a.n(c),j=a(5893),k=a(2318),l=a(2822),m=a(998),n=a(8101),o=a(282),p=a(9659),d=a(9669),q=a.n(d),r=a(1163),e=a(1664),s=a.n(e),t=a(7294),u=a(5789),v=a(8766),w=a(9629),x=a(1955),y=a(7536),z=a(6935),A=a(1419);function B(){var b=(0,y.cI)(),e=b.handleSubmit,a=b.control,G=b.formState.errors,c=(0,z.Ds)(),H=c.enqueueSnackbar,I=c.closeSnackbar,f=(0,r.useRouter)(),B=f.query.redirect,d=(0,t.useContext)(v.y),C=d.state,J=d.dispatch,K=C.userInfo;(0,t.useEffect)(function(){K&&f.push("/")},[]);var D,E=(0,w.Z)(),F=(D=(0,g.Z)(i().mark(function a(b){var c,d,e,g,h;return i().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:if(c=b.name,d=b.email,e=b.password,g=b.confirmPassword,I(),!(e!==g)){a.next=5;break}return H("Passwords don't match",{variant:"error"}),a.abrupt("return");case 5:return a.prev=5,a.next=8,q().post("/api/users/register",{name:c,email:d,password:e});case 8:J({type:"USER_LOGIN",payload:h=a.sent.data}),x.Z.set("userInfo",JSON.stringify(h)),f.push(B||"/"),a.next=17;break;case 14:a.prev=14,a.t0=a.catch(5),H((0,A.b)(a.t0),{variant:"error"});case 17:case"end":return a.stop()}},a,null,[[5,14]])})),function(a){return D.apply(this,arguments)});return(0,j.jsx)(u.Z,{title:"Register",children:(0,j.jsxs)("form",{onSubmit:e(F),className:E.form,children:[(0,j.jsx)(k.Z,{component:"h1",variant:"h1",children:"Register"}),(0,j.jsxs)(l.Z,{children:[(0,j.jsx)(m.Z,{children:(0,j.jsx)(y.Qr,{name:"name",control:a,defaultValue:"",rules:{required:!0,minLength:2},render:function(a){var b=a.field;return(0,j.jsx)(n.Z,(0,h.Z)({variant:"outlined",fullWidth:!0,id:"name",label:"Name",inputProps:{type:"name"},error:Boolean(G.name),helperText:G.name?"minLength"===G.name.type?"Name length is more than 1":"Name is required":""},b))}})}),(0,j.jsx)(m.Z,{children:(0,j.jsx)(y.Qr,{name:"email",control:a,defaultValue:"",rules:{required:!0,pattern:/^[a-z0-9._%+-]+@[a-z0-9.-]+\.[a-z]{2,4}$/},render:function(a){var b=a.field;return(0,j.jsx)(n.Z,(0,h.Z)({variant:"outlined",fullWidth:!0,id:"email",label:"Email",inputProps:{type:"email"},error:Boolean(G.email),helperText:G.email?"pattern"===G.email.type?"Email is not valid":"Email is required":""},b))}})}),(0,j.jsx)(m.Z,{children:(0,j.jsx)(y.Qr,{name:"password",control:a,defaultValue:"",rules:{required:!0,minLength:6},render:function(a){var b=a.field;return(0,j.jsx)(n.Z,(0,h.Z)({variant:"outlined",fullWidth:!0,id:"password",label:"Password",inputProps:{type:"password"},error:Boolean(G.password),helperText:G.password?"minLength"===G.password.type?"Password length is more than 5":"Password is required":""},b))}})}),(0,j.jsx)(m.Z,{children:(0,j.jsx)(y.Qr,{name:"confirmPassword",control:a,defaultValue:"",rules:{required:!0,minLength:6},render:function(a){var b=a.field;return(0,j.jsx)(n.Z,(0,h.Z)({variant:"outlined",fullWidth:!0,id:"confirmPassword",label:"Confirm Password",inputProps:{type:"password"},error:Boolean(G.confirmPassword),helperText:G.confirmPassword?"minLength"===G.confirmPassword.type?"Confirm Password length is more than 5":"Confirm  Password is required":""},b))}})}),(0,j.jsx)(m.Z,{children:(0,j.jsx)(o.Z,{variant:"contained",type:"submit",fullWidth:!0,color:"primary",children:"Register"})}),(0,j.jsxs)(m.Z,{children:["Already have an account? \xa0",(0,j.jsx)(s(),{href:"/login?redirect=".concat(B||"/"),passHref:!0,children:(0,j.jsx)(p.Z,{children:"Login"})})]})]})]})})}}},function(a){a.O(0,[961,101,924,267,536,789,774,888,179],function(){var b;return a(a.s=5511)}),_N_E=a.O()}])