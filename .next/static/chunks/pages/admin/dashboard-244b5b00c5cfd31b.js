(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[189],{2833:function(a,b,c){(window.__NEXT_P=window.__NEXT_P||[]).push(["/admin/dashboard",function(){return c(3134)}])},3134:function(h,b,a){"use strict";a.r(b);var i=a(7568),j=a(6042),k=a(9396),c=a(4051),l=a.n(c),m=a(5893),d=a(9669),n=a.n(d),e=a(5152),f=a.n(e),o=a(1163),g=a(1664),p=a.n(g),q=a(7294),r=a(3328),s=a(1749),t=a(8463),u=a(2822),v=a(998),w=a(5757),x=a(5477),y=a(2318),z=a(9912),A=a(1907),B=a(282),C=a(5376),D=a(1419),E=a(8766),F=a(5789),G=a(9629);function H(a,b){switch(b.type){case"FETCH_REQUEST":return(0,k.Z)((0,j.Z)({},a),{loading:!0,error:""});case"FETCH_SUCCESS":return(0,k.Z)((0,j.Z)({},a),{loading:!1,summary:b.payload,error:""});case"FETCH_FAIL":return(0,k.Z)((0,j.Z)({},a),{loading:!1,error:b.payload})}}function I(){r.kL.register(r.uw,r.f$,r.ZL);var f=(0,q.useContext)(E.y).state,h=(0,o.useRouter)(),b=(0,G.Z)(),j=f.userInfo,d=(0,q.useReducer)(H,{loading:!0,summary:{salesData:[]},error:""}),c=d[0],g=c.loading,e=c.error,a=c.summary,k=d[1];return(0,q.useEffect)(function(){var a;j||h.push("/login"),(a=(0,i.Z)(l().mark(function a(){var b;return l().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,k({type:"FETCH_REQUEST"}),a.next=4,n().get("/api/admin/summary",{headers:{authorization:"Bearer ".concat(j.token)}});case 4:k({type:"FETCH_SUCCESS",payload:b=a.sent.data}),a.next=11;break;case 8:a.prev=8,a.t0=a.catch(0),k({type:"FETCH_FAIL",payload:(0,D.b)(a.t0)});case 11:case"end":return a.stop()}},a,null,[[0,8]])})),function(){return a.apply(this,arguments)})()},[]),(0,m.jsx)(F.Z,{title:"Admin Dashboard",children:(0,m.jsxs)(s.Z,{container:!0,spacing:1,children:[(0,m.jsx)(s.Z,{item:!0,md:3,xs:12,children:(0,m.jsx)(t.Z,{className:b.section,children:(0,m.jsxs)(u.Z,{children:[(0,m.jsx)(p(),{href:"/admin/dashboard",passHref:!0,children:(0,m.jsx)(v.Z,{selected:!0,button:!0,component:"a",children:(0,m.jsx)(w.Z,{primary:"Admin Dashboard"})})}),(0,m.jsx)(p(),{href:"/admin/orders",passHref:!0,children:(0,m.jsx)(v.Z,{button:!0,component:"a",children:(0,m.jsx)(w.Z,{primary:"Orders"})})}),(0,m.jsx)(p(),{href:"/admin/products",passHref:!0,children:(0,m.jsx)(v.Z,{button:!0,component:"a",children:(0,m.jsx)(w.Z,{primary:"Products"})})}),(0,m.jsx)(p(),{href:"/admin/users",passHref:!0,children:(0,m.jsx)(v.Z,{button:!0,component:"a",children:(0,m.jsx)(w.Z,{primary:"Users"})})})]})})}),(0,m.jsx)(s.Z,{item:!0,md:9,xs:12,children:(0,m.jsx)(t.Z,{className:b.section,children:(0,m.jsxs)(u.Z,{children:[(0,m.jsx)(v.Z,{children:g?(0,m.jsx)(x.Z,{}):e?(0,m.jsx)(y.Z,{className:b.error,children:e}):(0,m.jsxs)(s.Z,{container:!0,spacing:5,children:[(0,m.jsx)(s.Z,{item:!0,md:3,children:(0,m.jsxs)(t.Z,{raised:!0,children:[(0,m.jsxs)(z.Z,{children:[(0,m.jsxs)(y.Z,{variant:"h1",children:["$",a.ordersPrice]}),(0,m.jsx)(y.Z,{children:"Sales"})]}),(0,m.jsx)(A.Z,{children:(0,m.jsx)(p(),{href:"/admin/orders",passHref:!0,children:(0,m.jsx)(B.Z,{size:"small",color:"primary",children:"View sales"})})})]})}),(0,m.jsx)(s.Z,{item:!0,md:3,children:(0,m.jsxs)(t.Z,{raised:!0,children:[(0,m.jsxs)(z.Z,{children:[(0,m.jsx)(y.Z,{variant:"h1",children:a.ordersCount}),(0,m.jsx)(y.Z,{children:"Orders"})]}),(0,m.jsx)(A.Z,{children:(0,m.jsx)(p(),{href:"/admin/orders",passHref:!0,children:(0,m.jsx)(B.Z,{size:"small",color:"primary",children:"View orders"})})})]})}),(0,m.jsx)(s.Z,{item:!0,md:3,children:(0,m.jsxs)(t.Z,{raised:!0,children:[(0,m.jsxs)(z.Z,{children:[(0,m.jsx)(y.Z,{variant:"h1",children:a.productsCount}),(0,m.jsx)(y.Z,{children:"Products"})]}),(0,m.jsx)(A.Z,{children:(0,m.jsx)(p(),{href:"/admin/products",passHref:!0,children:(0,m.jsx)(B.Z,{size:"small",color:"primary",children:"View products"})})})]})}),(0,m.jsx)(s.Z,{item:!0,md:3,children:(0,m.jsxs)(t.Z,{raised:!0,children:[(0,m.jsxs)(z.Z,{children:[(0,m.jsx)(y.Z,{variant:"h1",children:a.usersCount}),(0,m.jsx)(y.Z,{children:"Users"})]}),(0,m.jsx)(A.Z,{children:(0,m.jsx)(p(),{href:"/admin/users",passHref:!0,children:(0,m.jsx)(B.Z,{size:"small",color:"primary",children:"View users"})})})]})})]})}),(0,m.jsx)(v.Z,{children:(0,m.jsx)(y.Z,{component:"h1",variant:"h1",children:"Sales Chart"})}),(0,m.jsx)(v.Z,{children:(0,m.jsx)(C.$Q,{data:{labels:a.salesData.map(function(a){return a._id}),datasets:[{label:"Sales",backgroundColor:"rgba(162, 222, 208, 1)",data:a.salesData.map(function(a){return a.totalSales})},]},options:{legend:{display:!0,position:"right"}}})})]})})})]})})}b.default=f()(function(){return Promise.resolve(I)},{ssr:!1})}},function(a){a.O(0,[961,570,101,125,781,789,774,888,179],function(){var b;return a(a.s=2833)}),_N_E=a.O()}])